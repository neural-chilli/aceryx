<!-- web/templates/partials/dashboard_content.html -->
<div class="row row-deck row-cards mb-3" hx-swap-oob="true" id="dashboard-stats">
  <div class="col-sm-6 col-lg-3">
    <div class="card">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="subheader">Storage</div>
          <div class="ms-auto">
            {% if health.storage.status == "healthy" %}
            <span class="status status-green">
                            <span class="status-dot status-dot-animated"></span>
                            Healthy
                        </span>
            {% else %}
            <span class="status status-red">
                            <span class="status-dot"></span>
                            Unhealthy
                        </span>
            {% endif %}
          </div>
        </div>
        <div class="h1 mb-3">{{ health.storage.backend | title }}</div>
        <div class="d-flex mb-2">
          <div>{{ health.storage.flows }} flows, {{ health.storage.tools }} tools</div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-6 col-lg-3">
    <div class="card">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="subheader">Tool Registry</div>
          <div class="ms-auto">
            {% if health.tools.status == "healthy" %}
            <span class="status status-green">
                            <span class="status-dot status-dot-animated"></span>
                            Healthy
                        </span>
            {% else %}
            <span class="status status-red">
                            <span class="status-dot"></span>
                            Unhealthy
                        </span>
            {% endif %}
          </div>
        </div>
        <div class="h1 mb-3">{{ health.tools.protocols }} Protocols</div>
        <div class="d-flex mb-2">
          <div>{{ health.tools.cached_tools }} cached tools</div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-6 col-lg-3">
    <div class="card">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="subheader">Flows</div>
          <div class="ms-auto">
            <a href="/flows" class="btn btn-sm btn-outline-primary">View All</a>
          </div>
        </div>
        <div class="h1 mb-3">{{ stats.total_flows }}</div>
        <div class="d-flex mb-2">
          <div>{{ stats.recent_executions }} recent executions</div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-6 col-lg-3">
    <div class="card">
      <div class="card-body">
        <div class="d-flex align-items-center">
          <div class="subheader">Tools</div>
          <div class="ms-auto">
            <a href="/tools" class="btn btn-sm btn-outline-primary">Registry</a>
          </div>
        </div>
        <div class="h1 mb-3">{{ stats.total_tools }}</div>
        <div class="d-flex mb-2">
          <div>{{ stats.active_protocols }} protocols active</div>
        </div>
      </div>
    </div>
  </div>
</div>
